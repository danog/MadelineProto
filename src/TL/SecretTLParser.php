<?php namespace danog\MadelineProto\TL;
/** @internal Autogenerated using tools/TL/Builder.php */
use danog\MadelineProto\MTProto;
use danog\MadelineProto\Connection;
use danog\MadelineProto\MTProtoTools\PeerDatabase;
use danog\MadelineProto\MTProtoTools\ReferenceDatabase;
use danog\MadelineProto\MTProtoTools\MinDatabase;
use danog\MadelineProto\SecurityException;
use AssertionError;
use danog\MadelineProto\Lang;
final class SecretTLParser {
public function __construct(
            private readonly MTProto $API,
            private readonly Connection $connection,
            private readonly PeerDatabase $peerDatabase,
            private readonly ?ReferenceDatabase $referenceDatabase,
            private readonly ?MinDatabase $minDatabase,
        ) {}
            private  function err(mixed $stream): never {

            fseek($stream, -4, SEEK_CUR);
            throw new AssertionError("Unexpected ID ".bin2hex(fread($stream, 4)));
        
    }
    private  function gzdecode(mixed $stream): mixed {

            $res = fopen('php://memory', 'rw+b');
            fwrite($res, gzdecode(self::deserialize_string($stream)));
            rewind($res);
            return $res;
        
    }
    private  function gzdecode_vector(mixed $stream): mixed {

            $res = fopen('php://memory', 'rw+b');
            fwrite($res, gzdecode(self::deserialize_string($stream)));
            rewind($res);
            return match (stream_get_contents($stream, 4)) {
                'Äµ' => $stream,
                default => self::err($stream)
            };
        
    }
    private  function deserialize_bytes(mixed $stream): mixed {

            
            $l = \ord(stream_get_contents($stream, 1));
            if ($l > 254) {
                throw new Exception(Lang::$current_lang["length_too_big"]);
            }
            if ($l === 254) {
                $l = unpack("V", stream_get_contents($stream, 3).\chr(0))[1];
                $x = stream_get_contents($stream, $l);
                $resto = (-$l) % 4;
                $resto = $resto < 0 ? $resto + 4 : $resto;
                if ($resto > 0) {
                    stream_get_contents($stream, $resto);
                }
            } else {
                $x = $l ? stream_get_contents($stream, $l) : "";
                $resto = (-$l+1) % 4;
                $resto = $resto < 0 ? $resto + 4 : $resto;
                if ($resto > 0) {
                    stream_get_contents($stream, $resto);
                }
            }

            return new Types\Bytes($x);
        
    }
    private  function deserialize_string(mixed $stream): mixed {

            
            $l = \ord(stream_get_contents($stream, 1));
            if ($l > 254) {
                throw new Exception(Lang::$current_lang["length_too_big"]);
            }
            if ($l === 254) {
                $l = unpack("V", stream_get_contents($stream, 3).\chr(0))[1];
                $x = stream_get_contents($stream, $l);
                $resto = (-$l) % 4;
                $resto = $resto < 0 ? $resto + 4 : $resto;
                if ($resto > 0) {
                    stream_get_contents($stream, $resto);
                }
            } else {
                $x = $l ? stream_get_contents($stream, $l) : "";
                $resto = (-$l+1) % 4;
                $resto = $resto < 0 ? $resto + 4 : $resto;
                if ($resto > 0) {
                    stream_get_contents($stream, $resto);
                }
            }

            return $x;
        
    }
    private  function deserialize_waveform(mixed $stream): mixed {

            
            $l = \ord(stream_get_contents($stream, 1));
            if ($l > 254) {
                throw new Exception(Lang::$current_lang["length_too_big"]);
            }
            if ($l === 254) {
                $l = unpack("V", stream_get_contents($stream, 3).\chr(0))[1];
                $x = stream_get_contents($stream, $l);
                $resto = (-$l) % 4;
                $resto = $resto < 0 ? $resto + 4 : $resto;
                if ($resto > 0) {
                    stream_get_contents($stream, $resto);
                }
            } else {
                $x = $l ? stream_get_contents($stream, $l) : "";
                $resto = (-$l+1) % 4;
                $resto = $resto < 0 ? $resto + 4 : $resto;
                if ($resto > 0) {
                    stream_get_contents($stream, $resto);
                }
            }

            return TL::extractWaveform($x);
        
    }
    private  function deserialize_random_bytes(mixed $stream): void {

            $l = \ord(stream_get_contents($stream, 1));
            if ($l > 254) {
                throw new Exception(Lang::$current_lang["length_too_big"]);
            }
            if ($l === 254) {
                $l = unpack("V", stream_get_contents($stream, 3).\chr(0))[1];
                if ($l < 15) {
                    throw new SecurityException("Random_bytes is too small!");
                }
            } else {
                if ($l < 15) {
                    throw new SecurityException("Random_bytes is too small!");
                }
                $l += 1;
            }
            $resto = (-$l) % 4;
            $resto = $resto < 0 ? $resto + 4 : $resto;
            if ($resto > 0) {
                $l += $resto;
            }
            stream_get_contents($stream, $l);
        
    }
    private  function deserialize_type_array_of_int(mixed $stream): array {

                $result = [];
                for ($x = unpack("V", stream_get_contents($stream, 4))[1]; $x > 0; --$x) {    
                    $result []= unpack('l', stream_get_contents($stream, 4))[1];
                }
                return $result;    
            
    }
    private  function deserialize_type_array_of_long(mixed $stream): array {

                $result = [];
                for ($x = unpack("V", stream_get_contents($stream, 4))[1]; $x > 0; --$x) {    
                    $result []= unpack('q', stream_get_contents($stream, 8))[1];
                }
                return $result;    
            
    }
    private  function deserialize_type_array_of_double(mixed $stream): array {

                $result = [];
                for ($x = unpack("V", stream_get_contents($stream, 4))[1]; $x > 0; --$x) {    
                    $result []= unpack('d', stream_get_contents($stream, 8))[1];
                }
                return $result;    
            
    }
    private  function deserialize_type_array_of_strlong(mixed $stream): array {

                $result = [];
                for ($x = unpack("V", stream_get_contents($stream, 4))[1]; $x > 0; --$x) {    
                    $result []= stream_get_contents($stream, 8);
                }
                return $result;    
            
    }
    private  function deserialize_type_array_of_string(mixed $stream): array {

                $result = [];
                for ($x = unpack("V", stream_get_contents($stream, 4))[1]; $x > 0; --$x) {    
                    $result []= self::deserialize_string($stream);
                }
                return $result;    
            
    }
    private  function deserialize_type_array_of_bytes(mixed $stream): array {

                $result = [];
                for ($x = unpack("V", stream_get_contents($stream, 4))[1]; $x > 0; --$x) {    
                    $result []= self::deserialize_bytes($stream);
                }
                return $result;    
            
    }
    private  function deserialize_type_FileLocation(mixed $stream): mixed {
return match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => $this->deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
;
    }
    private  function deserialize_type_PhotoSize(mixed $stream): mixed {
return match (stream_get_contents($stream, 4)) {
'<â' => [
'_' => 'photoSizeEmpty',
'type' => self::deserialize_string($stream),
],
'`ŽÇu' => [
'_' => 'photoSize',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
],
'Ö' => [
'_' => 'photoCachedSize',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'bytes' => self::deserialize_bytes($stream),
],
'.¼°à' => [
'_' => 'photoStrippedSize',
'type' => self::deserialize_string($stream),
'inflated' => new Types\Bytes(Tools::inflateStripped(self::deserialize_string($stream))),
],
'•û>ú' => [
'_' => 'photoSizeProgressive',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'sizes' => self::deserialize_type_array_of_int(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'AM!Ø' => [
'_' => 'photoPathSize',
'type' => self::deserialize_string($stream),
'bytes' => self::deserialize_bytes($stream),
],
'¶¿w' => [
'_' => 'photoSize_23',
'type' => self::deserialize_string($stream),
'location' => match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
,
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
],
'ú4§é' => [
'_' => 'photoCachedSize_23',
'type' => self::deserialize_string($stream),
'location' => match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
,
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'bytes' => self::deserialize_bytes($stream),
],
'¡Ïr0' => $this->deserialize_type_PhotoSize(self::gzdecode($stream)),
default => self::err($stream)
}
;
    }
    private  function deserialize_type_InputStickerSet(mixed $stream): mixed {
return match (stream_get_contents($stream, 4)) {
'•+¶ÿ' => [
'_' => 'inputStickerSetEmpty',
],
'i¢ç' => [
'_' => 'inputStickerSetID',
'id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
' È†' => [
'_' => 'inputStickerSetShortName',
'short_name' => self::deserialize_string($stream),
],
'È‡' => [
'_' => 'inputStickerSetAnimatedEmoji',
],
'Ræ' => [
'_' => 'inputStickerSetDice',
'emoticon' => self::deserialize_string($stream),
],
'97Þ' => [
'_' => 'inputStickerSetAnimatedEmojiAnimations',
],
';‹È' => [
'_' => 'inputStickerSetPremiumGifts',
],
'ÎÔÄ' => [
'_' => 'inputStickerSetEmojiGenericAnimations',
],
'îõÐ)' => [
'_' => 'inputStickerSetEmojiDefaultStatuses',
],
'éøÁD' => [
'_' => 'inputStickerSetEmojiDefaultTopicIcons',
],
'S…tI' => [
'_' => 'inputStickerSetEmojiChannelDefaultStatuses',
],
'¡Ïr0' => $this->deserialize_type_InputStickerSet(self::gzdecode($stream)),
default => self::err($stream)
}
;
    }
    private  function deserialize_type_MaskCoords(mixed $stream): mixed {
return match (stream_get_contents($stream, 4)) {
'²ÛÖ®' => [
'_' => 'maskCoords',
'n' => unpack('l', stream_get_contents($stream, 4))[1],
'x' => unpack('d', stream_get_contents($stream, 8))[1],
'y' => unpack('d', stream_get_contents($stream, 8))[1],
'zoom' => unpack('d', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => $this->deserialize_type_MaskCoords(self::gzdecode($stream)),
default => self::err($stream)
}
;
    }
    private  function deserialize_documentAttributeSticker(mixed $stream): mixed {
$tmp = ['_' => 'documentAttributeSticker'];
$flags = unpack('V', stream_get_contents($stream, 4))[1];
$tmp['mask'] = ($flags & 2) !== 0;
$tmp['alt'] = self::deserialize_string($stream);
$tmp['stickerset'] = match (stream_get_contents($stream, 4)) {
'•+¶ÿ' => [
'_' => 'inputStickerSetEmpty',
],
'i¢ç' => [
'_' => 'inputStickerSetID',
'id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
' È†' => [
'_' => 'inputStickerSetShortName',
'short_name' => self::deserialize_string($stream),
],
'È‡' => [
'_' => 'inputStickerSetAnimatedEmoji',
],
'Ræ' => [
'_' => 'inputStickerSetDice',
'emoticon' => self::deserialize_string($stream),
],
'97Þ' => [
'_' => 'inputStickerSetAnimatedEmojiAnimations',
],
';‹È' => [
'_' => 'inputStickerSetPremiumGifts',
],
'ÎÔÄ' => [
'_' => 'inputStickerSetEmojiGenericAnimations',
],
'îõÐ)' => [
'_' => 'inputStickerSetEmojiDefaultStatuses',
],
'éøÁD' => [
'_' => 'inputStickerSetEmojiDefaultTopicIcons',
],
'S…tI' => [
'_' => 'inputStickerSetEmojiChannelDefaultStatuses',
],
'¡Ïr0' => self::deserialize_type_InputStickerSet(self::gzdecode($stream)),
default => self::err($stream)
}
;
if (($flags & 1) !== 0) $tmp['mask_coords'] = match (stream_get_contents($stream, 4)) {
'²ÛÖ®' => [
'_' => 'maskCoords',
'n' => unpack('l', stream_get_contents($stream, 4))[1],
'x' => unpack('d', stream_get_contents($stream, 8))[1],
'y' => unpack('d', stream_get_contents($stream, 8))[1],
'zoom' => unpack('d', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_MaskCoords(self::gzdecode($stream)),
default => self::err($stream)
}
;
return $tmp;

    }
    private  function deserialize_documentAttributeVideo(mixed $stream): mixed {
$tmp = ['_' => 'documentAttributeVideo'];
$flags = unpack('V', stream_get_contents($stream, 4))[1];
$tmp['round_message'] = ($flags & 1) !== 0;
$tmp['supports_streaming'] = ($flags & 2) !== 0;
$tmp['nosound'] = ($flags & 8) !== 0;
$tmp['duration'] = unpack('d', stream_get_contents($stream, 8))[1];
$tmp['w'] = unpack('l', stream_get_contents($stream, 4))[1];
$tmp['h'] = unpack('l', stream_get_contents($stream, 4))[1];
if (($flags & 4) !== 0) $tmp['preload_prefix_size'] = unpack('l', stream_get_contents($stream, 4))[1];
return $tmp;

    }
    private  function deserialize_documentAttributeAudio(mixed $stream): mixed {
$tmp = ['_' => 'documentAttributeAudio'];
$flags = unpack('V', stream_get_contents($stream, 4))[1];
$tmp['voice'] = ($flags & 1024) !== 0;
$tmp['duration'] = unpack('l', stream_get_contents($stream, 4))[1];
if (($flags & 1) !== 0) $tmp['title'] = self::deserialize_string($stream);
if (($flags & 2) !== 0) $tmp['performer'] = self::deserialize_string($stream);
if (($flags & 4) !== 0) $tmp['waveform'] = self::deserialize_waveform($stream);
return $tmp;

    }
    private  function deserialize_documentAttributeCustomEmoji(mixed $stream): mixed {
$tmp = ['_' => 'documentAttributeCustomEmoji'];
$flags = unpack('V', stream_get_contents($stream, 4))[1];
$tmp['free'] = ($flags & 1) !== 0;
$tmp['text_color'] = ($flags & 2) !== 0;
$tmp['alt'] = self::deserialize_string($stream);
$tmp['stickerset'] = match (stream_get_contents($stream, 4)) {
'•+¶ÿ' => [
'_' => 'inputStickerSetEmpty',
],
'i¢ç' => [
'_' => 'inputStickerSetID',
'id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
' È†' => [
'_' => 'inputStickerSetShortName',
'short_name' => self::deserialize_string($stream),
],
'È‡' => [
'_' => 'inputStickerSetAnimatedEmoji',
],
'Ræ' => [
'_' => 'inputStickerSetDice',
'emoticon' => self::deserialize_string($stream),
],
'97Þ' => [
'_' => 'inputStickerSetAnimatedEmojiAnimations',
],
';‹È' => [
'_' => 'inputStickerSetPremiumGifts',
],
'ÎÔÄ' => [
'_' => 'inputStickerSetEmojiGenericAnimations',
],
'îõÐ)' => [
'_' => 'inputStickerSetEmojiDefaultStatuses',
],
'éøÁD' => [
'_' => 'inputStickerSetEmojiDefaultTopicIcons',
],
'S…tI' => [
'_' => 'inputStickerSetEmojiChannelDefaultStatuses',
],
'¡Ïr0' => self::deserialize_type_InputStickerSet(self::gzdecode($stream)),
default => self::err($stream)
}
;
return $tmp;

    }
    private  function deserialize_documentAttributeVideo_66(mixed $stream): mixed {
$tmp = ['_' => 'documentAttributeVideo_66'];
$flags = unpack('V', stream_get_contents($stream, 4))[1];
$tmp['round_message'] = ($flags & 1) !== 0;
$tmp['duration'] = unpack('l', stream_get_contents($stream, 4))[1];
$tmp['w'] = unpack('l', stream_get_contents($stream, 4))[1];
$tmp['h'] = unpack('l', stream_get_contents($stream, 4))[1];
return $tmp;

    }
    private  function deserialize_type_array_of_DocumentAttribute(mixed $stream): array {

                $result = [];
                for ($x = unpack("V", stream_get_contents($stream, 4))[1]; $x > 0; --$x) {    
                    $result []= match (stream_get_contents($stream, 4)) {
'\\Á7l' => [
'_' => 'documentAttributeImageSize',
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
],
'9‰µ' => [
'_' => 'documentAttributeAnimated',
],
'Öc' => self::deserialize_documentAttributeSticker($stream),
'ÂñÓ' => self::deserialize_documentAttributeVideo($stream),
'ÆùR˜' => self::deserialize_documentAttributeAudio($stream),
'h' . "\0" . 'Y' => [
'_' => 'documentAttributeFilename',
'file_name' => self::deserialize_string($stream),
],
'÷Ò˜' => [
'_' => 'documentAttributeHasStickers',
],
'™˜ý' => self::deserialize_documentAttributeCustomEmoji($stream),
'\'W
û' => [
'_' => 'documentAttributeSticker_23',
],
'ËÌY' => [
'_' => 'documentAttributeVideo_23',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
],
'åH' => [
'_' => 'documentAttributeAudio_23',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
],
'cU:' => [
'_' => 'documentAttributeSticker_45',
'alt' => self::deserialize_string($stream),
'stickerset' => match (stream_get_contents($stream, 4)) {
'•+¶ÿ' => [
'_' => 'inputStickerSetEmpty',
],
'i¢ç' => [
'_' => 'inputStickerSetID',
'id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
' È†' => [
'_' => 'inputStickerSetShortName',
'short_name' => self::deserialize_string($stream),
],
'È‡' => [
'_' => 'inputStickerSetAnimatedEmoji',
],
'Ræ' => [
'_' => 'inputStickerSetDice',
'emoticon' => self::deserialize_string($stream),
],
'97Þ' => [
'_' => 'inputStickerSetAnimatedEmojiAnimations',
],
';‹È' => [
'_' => 'inputStickerSetPremiumGifts',
],
'ÎÔÄ' => [
'_' => 'inputStickerSetEmojiGenericAnimations',
],
'îõÐ)' => [
'_' => 'inputStickerSetEmojiDefaultStatuses',
],
'éøÁD' => [
'_' => 'inputStickerSetEmojiDefaultTopicIcons',
],
'S…tI' => [
'_' => 'inputStickerSetEmojiChannelDefaultStatuses',
],
'¡Ïr0' => self::deserialize_type_InputStickerSet(self::gzdecode($stream)),
default => self::err($stream)
}
,
],
'àÒÞ' => [
'_' => 'documentAttributeAudio_45',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'title' => self::deserialize_string($stream),
'performer' => self::deserialize_string($stream),
],
'æ,ð' => self::deserialize_documentAttributeVideo_66($stream),
'¡Ïr0' => $this->deserialize_type_DocumentAttribute(self::gzdecode($stream)),
default => self::err($stream)
}
;
                }
                return $result;    
            
    }
    private  function deserialize_type_DecryptedMessageMedia(mixed $stream): mixed {
return match (stream_get_contents($stream, 4)) {
'J\\Ÿ' => [
'_' => 'decryptedMessageMediaEmpty_8',
],
'ŒŠy2' => [
'_' => 'decryptedMessageMediaPhoto_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'ónîL' => [
'_' => 'decryptedMessageMediaVideo_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Y
H5' => [
'_' => 'decryptedMessageMediaGeoPoint_8',
'lat' => unpack('d', stream_get_contents($stream, 8))[1],
'long' => unpack('d', stream_get_contents($stream, 8))[1],
],
'—
ŠX' => [
'_' => 'decryptedMessageMediaContact_8',
'phone_number' => self::deserialize_string($stream),
'first_name' => self::deserialize_string($stream),
'last_name' => self::deserialize_string($stream),
'user_id' => unpack('l', stream_get_contents($stream, 4))[1],
],
'KC•°' => [
'_' => 'decryptedMessageMediaDocument_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'file_name' => self::deserialize_string($stream),
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'u€`' => [
'_' => 'decryptedMessageMediaAudio_8',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
']AJR' => [
'_' => 'decryptedMessageMediaVideo_17',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Ë©àW' => [
'_' => 'decryptedMessageMediaAudio_17',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Ý°•ú' => [
'_' => 'decryptedMessageMediaExternalDocument_23',
'id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
'date' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb' => match (stream_get_contents($stream, 4)) {
'<â' => [
'_' => 'photoSizeEmpty',
'type' => self::deserialize_string($stream),
],
'`ŽÇu' => [
'_' => 'photoSize',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
],
'Ö' => [
'_' => 'photoCachedSize',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'bytes' => self::deserialize_bytes($stream),
],
'.¼°à' => [
'_' => 'photoStrippedSize',
'type' => self::deserialize_string($stream),
'inflated' => new Types\Bytes(Tools::inflateStripped(self::deserialize_string($stream))),
],
'•û>ú' => [
'_' => 'photoSizeProgressive',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'sizes' => self::deserialize_type_array_of_int(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'AM!Ø' => [
'_' => 'photoPathSize',
'type' => self::deserialize_string($stream),
'bytes' => self::deserialize_bytes($stream),
],
'¶¿w' => [
'_' => 'photoSize_23',
'type' => self::deserialize_string($stream),
'location' => match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
,
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
],
'ú4§é' => [
'_' => 'photoCachedSize_23',
'type' => self::deserialize_string($stream),
'location' => match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
,
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'bytes' => self::deserialize_bytes($stream),
],
'¡Ïr0' => self::deserialize_type_PhotoSize(self::gzdecode($stream)),
default => self::err($stream)
}
,
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'xúñ' => [
'_' => 'decryptedMessageMediaPhoto_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'caption' => self::deserialize_string($stream),
],
'Œ—' => [
'_' => 'decryptedMessageMediaVideo_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'caption' => self::deserialize_string($stream),
],
'âŠþz' => [
'_' => 'decryptedMessageMediaDocument_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
'caption' => self::deserialize_string($stream),
],
'oõŠ' => [
'_' => 'decryptedMessageMediaVenue_45',
'lat' => unpack('d', stream_get_contents($stream, 8))[1],
'long' => unpack('d', stream_get_contents($stream, 8))[1],
'title' => self::deserialize_string($stream),
'address' => self::deserialize_string($stream),
'provider' => self::deserialize_string($stream),
'venue_id' => self::deserialize_string($stream),
],
'Øå' => [
'_' => 'decryptedMessageMediaWebPage_45',
'url' => self::deserialize_string($stream),
],
'‚—½j' => [
'_' => 'decryptedMessageMediaDocument_143',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('q', stream_get_contents($stream, 8))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
'caption' => self::deserialize_string($stream),
],
'¡Ïr0' => $this->deserialize_type_DecryptedMessageMedia(self::gzdecode($stream)),
default => self::err($stream)
}
;
    }
    private  function deserialize_type_DataJSON(mixed $stream): mixed {
return match (stream_get_contents($stream, 4)) {
't}' => json_decode(self::deserialize_string($stream), true, 512, \JSON_THROW_ON_ERROR),
'¡Ïr0' => $this->deserialize_type_DataJSON(self::gzdecode($stream)),
default => self::err($stream)
}
;
    }
    private  function deserialize_type_SendMessageAction(mixed $stream): mixed {
return match (stream_get_contents($stream, 4)) {
'Nt¿' => [
'_' => 'sendMessageTypingAction',
],
'õÈ^ý' => [
'_' => 'sendMessageCancelAction',
],
'oÖ‡¡' => [
'_' => 'sendMessageRecordVideoAction',
],
'ì:vé' => [
'_' => 'sendMessageUploadVideoAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'÷s/Õ' => [
'_' => 'sendMessageRecordAudioAction',
],
'«×Qó' => [
'_' => 'sendMessageUploadAudioAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'&JÓÑ' => [
'_' => 'sendMessageUploadPhotoAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'äÙª' => [
'_' => 'sendMessageUploadDocumentAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'¡‹o' => [
'_' => 'sendMessageGeoLocationAction',
],
'o¼Œb' => [
'_' => 'sendMessageChooseContactAction',
],
'HjÝ' => [
'_' => 'sendMessageGamePlayAction',
],
'¼òˆ' => [
'_' => 'sendMessageRecordRoundAction',
],
'f>$' => [
'_' => 'sendMessageUploadRoundAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'…",Ù' => [
'_' => 'speakingInGroupCallAction',
],
'F’ÚÛ' => [
'_' => 'sendMessageHistoryImportAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'±ÆZ°' => [
'_' => 'sendMessageChooseStickerAction',
],
'Ë+—%' => [
'_' => 'sendMessageEmojiInteraction',
'emoticon' => self::deserialize_string($stream),
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'interaction' => match (stream_get_contents($stream, 4)) {
't}' => json_decode(self::deserialize_string($stream), true, 512, \JSON_THROW_ON_ERROR),
'¡Ïr0' => self::deserialize_type_DataJSON(self::gzdecode($stream)),
default => self::err($stream)
}
,
],
'.e¶' => [
'_' => 'sendMessageEmojiInteractionSeen',
'emoticon' => self::deserialize_string($stream),
],
'÷/’' => [
'_' => 'sendMessageUploadVideoAction_17',
],
'oŠ¬æ' => [
'_' => 'sendMessageUploadAudioAction_17',
],
'<
™' => [
'_' => 'sendMessageUploadPhotoAction_17',
],
'Žé®' => [
'_' => 'sendMessageUploadDocumentAction_17',
],
'$†q»' => [
'_' => 'sendMessageUploadRoundAction_66',
],
'¡Ïr0' => $this->deserialize_type_SendMessageAction(self::gzdecode($stream)),
default => self::err($stream)
}
;
    }
    private  function deserialize_type_DecryptedMessageAction(mixed $stream): mixed {
return match (stream_get_contents($stream, 4)) {
'ì:s¡' => [
'_' => 'decryptedMessageActionSetMessageTTL_8',
'ttl_seconds' => unpack('l', stream_get_contents($stream, 4))[1],
],
'¾@O' => [
'_' => 'decryptedMessageActionReadMessages_8',
'random_ids' => self::deserialize_type_array_of_long(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'Cae' => [
'_' => 'decryptedMessageActionDeleteMessages_8',
'random_ids' => self::deserialize_type_array_of_long(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'uôÁŠ' => [
'_' => 'decryptedMessageActionScreenshotMessages_8',
'random_ids' => self::deserialize_type_array_of_long(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'\\äg' => [
'_' => 'decryptedMessageActionFlushHistory_8',
],
'°Q' => [
'_' => 'decryptedMessageActionResend_17',
'start_seq_no' => unpack('l', stream_get_contents($stream, 4))[1],
'end_seq_no' => unpack('l', stream_get_contents($stream, 4))[1],
],
'ƒˆó' => [
'_' => 'decryptedMessageActionNotifyLayer_17',
'layer' => unpack('l', stream_get_contents($stream, 4))[1],
],
'Av²Ì' => [
'_' => 'decryptedMessageActionTyping_17',
'action' => match (stream_get_contents($stream, 4)) {
'Nt¿' => [
'_' => 'sendMessageTypingAction',
],
'õÈ^ý' => [
'_' => 'sendMessageCancelAction',
],
'oÖ‡¡' => [
'_' => 'sendMessageRecordVideoAction',
],
'ì:vé' => [
'_' => 'sendMessageUploadVideoAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'÷s/Õ' => [
'_' => 'sendMessageRecordAudioAction',
],
'«×Qó' => [
'_' => 'sendMessageUploadAudioAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'&JÓÑ' => [
'_' => 'sendMessageUploadPhotoAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'äÙª' => [
'_' => 'sendMessageUploadDocumentAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'¡‹o' => [
'_' => 'sendMessageGeoLocationAction',
],
'o¼Œb' => [
'_' => 'sendMessageChooseContactAction',
],
'HjÝ' => [
'_' => 'sendMessageGamePlayAction',
],
'¼òˆ' => [
'_' => 'sendMessageRecordRoundAction',
],
'f>$' => [
'_' => 'sendMessageUploadRoundAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'…",Ù' => [
'_' => 'speakingInGroupCallAction',
],
'F’ÚÛ' => [
'_' => 'sendMessageHistoryImportAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'±ÆZ°' => [
'_' => 'sendMessageChooseStickerAction',
],
'Ë+—%' => [
'_' => 'sendMessageEmojiInteraction',
'emoticon' => self::deserialize_string($stream),
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'interaction' => match (stream_get_contents($stream, 4)) {
't}' => json_decode(self::deserialize_string($stream), true, 512, \JSON_THROW_ON_ERROR),
'¡Ïr0' => self::deserialize_type_DataJSON(self::gzdecode($stream)),
default => self::err($stream)
}
,
],
'.e¶' => [
'_' => 'sendMessageEmojiInteractionSeen',
'emoticon' => self::deserialize_string($stream),
],
'÷/’' => [
'_' => 'sendMessageUploadVideoAction_17',
],
'oŠ¬æ' => [
'_' => 'sendMessageUploadAudioAction_17',
],
'<
™' => [
'_' => 'sendMessageUploadPhotoAction_17',
],
'Žé®' => [
'_' => 'sendMessageUploadDocumentAction_17',
],
'$†q»' => [
'_' => 'sendMessageUploadRoundAction_66',
],
'¡Ïr0' => self::deserialize_type_SendMessageAction(self::gzdecode($stream)),
default => self::err($stream)
}
,
],
'aÉó' => [
'_' => 'decryptedMessageActionRequestKey_20',
'exchange_id' => unpack('q', stream_get_contents($stream, 8))[1],
'g_a' => self::deserialize_bytes($stream),
],
'[sáo' => [
'_' => 'decryptedMessageActionAcceptKey_20',
'exchange_id' => unpack('q', stream_get_contents($stream, 8))[1],
'g_b' => self::deserialize_bytes($stream),
'key_fingerprint' => stream_get_contents($stream, 8),
],
'kìÝ' => [
'_' => 'decryptedMessageActionAbortKey_20',
'exchange_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'›.ì' => [
'_' => 'decryptedMessageActionCommitKey_20',
'exchange_id' => unpack('q', stream_get_contents($stream, 8))[1],
'key_fingerprint' => stream_get_contents($stream, 8),
],
'cÝ/¨' => [
'_' => 'decryptedMessageActionNoop_20',
],
'¡Ïr0' => $this->deserialize_type_DecryptedMessageAction(self::gzdecode($stream)),
default => self::err($stream)
}
;
    }
    private  function deserialize_messageEntityMentionName(mixed $stream): mixed {
$tmp = [
'_' => 'messageEntityMentionName',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
];
$this->minDatabase?->addPeer($tmp);
return $tmp;

    }
    private  function deserialize_type_InputPeer(mixed $stream): mixed {
return match (stream_get_contents($stream, 4)) {
'ê;' => [
'_' => 'inputPeerEmpty',
],
'É~ }' => [
'_' => 'inputPeerSelf',
],
'¹\\©5' => [
'_' => 'inputPeerChat',
'chat_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'L¥èÝ' => [
'_' => 'inputPeerUser',
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
'ü»¼\'' => [
'_' => 'inputPeerChannel',
'channel_id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
'
{¨' => [
'_' => 'inputPeerUserFromMessage',
'peer' => match (stream_get_contents($stream, 4)) {
'ê;' => [
'_' => 'inputPeerEmpty',
],
'É~ }' => [
'_' => 'inputPeerSelf',
],
'¹\\©5' => [
'_' => 'inputPeerChat',
'chat_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'L¥èÝ' => [
'_' => 'inputPeerUser',
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
'ü»¼\'' => [
'_' => 'inputPeerChannel',
'channel_id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
'
{¨' => [
'_' => 'inputPeerUserFromMessage',
'peer' => $this->deserialize_type_InputPeer($stream),
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'@*½' => [
'_' => 'inputPeerChannelFromMessage',
'peer' => $this->deserialize_type_InputPeer($stream),
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'channel_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => $this->deserialize_type_InputPeer(self::gzdecode($stream)),
default => self::err($stream)
}
,
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'@*½' => [
'_' => 'inputPeerChannelFromMessage',
'peer' => match (stream_get_contents($stream, 4)) {
'ê;' => [
'_' => 'inputPeerEmpty',
],
'É~ }' => [
'_' => 'inputPeerSelf',
],
'¹\\©5' => [
'_' => 'inputPeerChat',
'chat_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'L¥èÝ' => [
'_' => 'inputPeerUser',
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
'ü»¼\'' => [
'_' => 'inputPeerChannel',
'channel_id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
'
{¨' => [
'_' => 'inputPeerUserFromMessage',
'peer' => $this->deserialize_type_InputPeer($stream),
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'@*½' => [
'_' => 'inputPeerChannelFromMessage',
'peer' => $this->deserialize_type_InputPeer($stream),
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'channel_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => $this->deserialize_type_InputPeer(self::gzdecode($stream)),
default => self::err($stream)
}
,
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'channel_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => $this->deserialize_type_InputPeer(self::gzdecode($stream)),
default => self::err($stream)
}
;
    }
    private  function deserialize_type_InputUser(mixed $stream): mixed {
return match (stream_get_contents($stream, 4)) {
'Ï†ˆ¹' => [
'_' => 'inputUserEmpty',
],
'?±Á÷' => [
'_' => 'inputUserSelf',
],
'ÆXò' => [
'_' => 'inputUser',
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
'âH¤' => [
'_' => 'inputUserFromMessage',
'peer' => match (stream_get_contents($stream, 4)) {
'ê;' => [
'_' => 'inputPeerEmpty',
],
'É~ }' => [
'_' => 'inputPeerSelf',
],
'¹\\©5' => [
'_' => 'inputPeerChat',
'chat_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'L¥èÝ' => [
'_' => 'inputPeerUser',
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
'ü»¼\'' => [
'_' => 'inputPeerChannel',
'channel_id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
'
{¨' => [
'_' => 'inputPeerUserFromMessage',
'peer' => self::deserialize_type_InputPeer($stream),
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'@*½' => [
'_' => 'inputPeerChannelFromMessage',
'peer' => self::deserialize_type_InputPeer($stream),
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'channel_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_InputPeer(self::gzdecode($stream)),
default => self::err($stream)
}
,
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => $this->deserialize_type_InputUser(self::gzdecode($stream)),
default => self::err($stream)
}
;
    }
    private  function deserialize_type_array_of_MessageEntity(mixed $stream): array {

                $result = [];
                for ($x = unpack("V", stream_get_contents($stream, 4))[1]; $x > 0; --$x) {    
                    $result []= match (stream_get_contents($stream, 4)) {
'•º’»' => [
'_' => 'messageEntityUnknown',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'Wú' => [
'_' => 'messageEntityMention',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'[co' => [
'_' => 'messageEntityHashtag',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'ÇŠïl' => [
'_' => 'messageEntityBotCommand',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'8%Ðn' => [
'_' => 'messageEntityUrl',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'Âuäd' => [
'_' => 'messageEntityEmail',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'Éa½' => [
'_' => 'messageEntityBold',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'`‹o‚' => [
'_' => 'messageEntityItalic',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'q¢(' => [
'_' => 'messageEntityCode',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'àK’s' => [
'_' => 'messageEntityPre',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
'language' => self::deserialize_string($stream),
],
'\'Ó¦v' => [
'_' => 'messageEntityTextUrl',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
'url' => self::deserialize_string($stream),
],
'@{Ü' => self::deserialize_messageEntityMentionName($stream),
'ÉhŽ ' => [
'_' => 'inputMessageEntityMentionName',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
'user_id' => match (stream_get_contents($stream, 4)) {
'Ï†ˆ¹' => [
'_' => 'inputUserEmpty',
],
'?±Á÷' => [
'_' => 'inputUserSelf',
],
'ÆXò' => [
'_' => 'inputUser',
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
'âH¤' => [
'_' => 'inputUserFromMessage',
'peer' => match (stream_get_contents($stream, 4)) {
'ê;' => [
'_' => 'inputPeerEmpty',
],
'É~ }' => [
'_' => 'inputPeerSelf',
],
'¹\\©5' => [
'_' => 'inputPeerChat',
'chat_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'L¥èÝ' => [
'_' => 'inputPeerUser',
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
'ü»¼\'' => [
'_' => 'inputPeerChannel',
'channel_id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
],
'
{¨' => [
'_' => 'inputPeerUserFromMessage',
'peer' => self::deserialize_type_InputPeer($stream),
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'@*½' => [
'_' => 'inputPeerChannelFromMessage',
'peer' => self::deserialize_type_InputPeer($stream),
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'channel_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_InputPeer(self::gzdecode($stream)),
default => self::err($stream)
}
,
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'user_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_InputUser(self::gzdecode($stream)),
default => self::err($stream)
}
,
],
'Kãi›' => [
'_' => 'messageEntityPhone',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'?tNL' => [
'_' => 'messageEntityCashtag',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'‹~Nœ' => [
'_' => 'messageEntityUnderline',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'Ô“¿' => [
'_' => 'messageEntityStrike',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'ôjv' => [
'_' => 'messageEntityBankCard',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'–Ê2' => [
'_' => 'messageEntitySpoiler',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'øÏÈ' => [
'_' => 'messageEntityCustomEmoji',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
'document_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'Ðõ' => [
'_' => 'messageEntityBlockquote',
'offset' => unpack('l', stream_get_contents($stream, 4))[1],
'length' => unpack('l', stream_get_contents($stream, 4))[1],
],
'¡Ïr0' => $this->deserialize_type_MessageEntity(self::gzdecode($stream)),
default => self::err($stream)
}
;
                }
                return $result;    
            
    }
    private  function deserialize_decryptedMessage_45(mixed $stream): mixed {
$tmp = ['_' => 'decryptedMessage_45'];
$flags = unpack('V', stream_get_contents($stream, 4))[1];
$tmp['random_id'] = unpack('q', stream_get_contents($stream, 8))[1];
$tmp['ttl'] = unpack('l', stream_get_contents($stream, 4))[1];
$tmp['message'] = self::deserialize_string($stream);
if (($flags & 512) !== 0) $tmp['media'] = match (stream_get_contents($stream, 4)) {
'J\\Ÿ' => [
'_' => 'decryptedMessageMediaEmpty_8',
],
'ŒŠy2' => [
'_' => 'decryptedMessageMediaPhoto_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'ónîL' => [
'_' => 'decryptedMessageMediaVideo_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Y
H5' => [
'_' => 'decryptedMessageMediaGeoPoint_8',
'lat' => unpack('d', stream_get_contents($stream, 8))[1],
'long' => unpack('d', stream_get_contents($stream, 8))[1],
],
'—
ŠX' => [
'_' => 'decryptedMessageMediaContact_8',
'phone_number' => self::deserialize_string($stream),
'first_name' => self::deserialize_string($stream),
'last_name' => self::deserialize_string($stream),
'user_id' => unpack('l', stream_get_contents($stream, 4))[1],
],
'KC•°' => [
'_' => 'decryptedMessageMediaDocument_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'file_name' => self::deserialize_string($stream),
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'u€`' => [
'_' => 'decryptedMessageMediaAudio_8',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
']AJR' => [
'_' => 'decryptedMessageMediaVideo_17',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Ë©àW' => [
'_' => 'decryptedMessageMediaAudio_17',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Ý°•ú' => [
'_' => 'decryptedMessageMediaExternalDocument_23',
'id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
'date' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb' => match (stream_get_contents($stream, 4)) {
'<â' => [
'_' => 'photoSizeEmpty',
'type' => self::deserialize_string($stream),
],
'`ŽÇu' => [
'_' => 'photoSize',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
],
'Ö' => [
'_' => 'photoCachedSize',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'bytes' => self::deserialize_bytes($stream),
],
'.¼°à' => [
'_' => 'photoStrippedSize',
'type' => self::deserialize_string($stream),
'inflated' => new Types\Bytes(Tools::inflateStripped(self::deserialize_string($stream))),
],
'•û>ú' => [
'_' => 'photoSizeProgressive',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'sizes' => self::deserialize_type_array_of_int(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'AM!Ø' => [
'_' => 'photoPathSize',
'type' => self::deserialize_string($stream),
'bytes' => self::deserialize_bytes($stream),
],
'¶¿w' => [
'_' => 'photoSize_23',
'type' => self::deserialize_string($stream),
'location' => match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
,
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
],
'ú4§é' => [
'_' => 'photoCachedSize_23',
'type' => self::deserialize_string($stream),
'location' => match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
,
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'bytes' => self::deserialize_bytes($stream),
],
'¡Ïr0' => self::deserialize_type_PhotoSize(self::gzdecode($stream)),
default => self::err($stream)
}
,
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'xúñ' => [
'_' => 'decryptedMessageMediaPhoto_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'caption' => self::deserialize_string($stream),
],
'Œ—' => [
'_' => 'decryptedMessageMediaVideo_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'caption' => self::deserialize_string($stream),
],
'âŠþz' => [
'_' => 'decryptedMessageMediaDocument_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
'caption' => self::deserialize_string($stream),
],
'oõŠ' => [
'_' => 'decryptedMessageMediaVenue_45',
'lat' => unpack('d', stream_get_contents($stream, 8))[1],
'long' => unpack('d', stream_get_contents($stream, 8))[1],
'title' => self::deserialize_string($stream),
'address' => self::deserialize_string($stream),
'provider' => self::deserialize_string($stream),
'venue_id' => self::deserialize_string($stream),
],
'Øå' => [
'_' => 'decryptedMessageMediaWebPage_45',
'url' => self::deserialize_string($stream),
],
'‚—½j' => [
'_' => 'decryptedMessageMediaDocument_143',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('q', stream_get_contents($stream, 8))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
'caption' => self::deserialize_string($stream),
],
'¡Ïr0' => self::deserialize_type_DecryptedMessageMedia(self::gzdecode($stream)),
default => self::err($stream)
}
;
if (($flags & 128) !== 0) $tmp['entities'] = self::deserialize_type_array_of_MessageEntity(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            });
if (($flags & 2048) !== 0) $tmp['via_bot_name'] = self::deserialize_string($stream);
if (($flags & 8) !== 0) $tmp['reply_to_random_id'] = unpack('q', stream_get_contents($stream, 8))[1];
return $tmp;

    }
    private  function deserialize_decryptedMessage_73(mixed $stream): mixed {
$tmp = ['_' => 'decryptedMessage_73'];
$flags = unpack('V', stream_get_contents($stream, 4))[1];
$tmp['no_webpage'] = ($flags & 2) !== 0;
$tmp['silent'] = ($flags & 32) !== 0;
$tmp['random_id'] = unpack('q', stream_get_contents($stream, 8))[1];
$tmp['ttl'] = unpack('l', stream_get_contents($stream, 4))[1];
$tmp['message'] = self::deserialize_string($stream);
if (($flags & 512) !== 0) $tmp['media'] = match (stream_get_contents($stream, 4)) {
'J\\Ÿ' => [
'_' => 'decryptedMessageMediaEmpty_8',
],
'ŒŠy2' => [
'_' => 'decryptedMessageMediaPhoto_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'ónîL' => [
'_' => 'decryptedMessageMediaVideo_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Y
H5' => [
'_' => 'decryptedMessageMediaGeoPoint_8',
'lat' => unpack('d', stream_get_contents($stream, 8))[1],
'long' => unpack('d', stream_get_contents($stream, 8))[1],
],
'—
ŠX' => [
'_' => 'decryptedMessageMediaContact_8',
'phone_number' => self::deserialize_string($stream),
'first_name' => self::deserialize_string($stream),
'last_name' => self::deserialize_string($stream),
'user_id' => unpack('l', stream_get_contents($stream, 4))[1],
],
'KC•°' => [
'_' => 'decryptedMessageMediaDocument_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'file_name' => self::deserialize_string($stream),
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'u€`' => [
'_' => 'decryptedMessageMediaAudio_8',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
']AJR' => [
'_' => 'decryptedMessageMediaVideo_17',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Ë©àW' => [
'_' => 'decryptedMessageMediaAudio_17',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Ý°•ú' => [
'_' => 'decryptedMessageMediaExternalDocument_23',
'id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
'date' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb' => match (stream_get_contents($stream, 4)) {
'<â' => [
'_' => 'photoSizeEmpty',
'type' => self::deserialize_string($stream),
],
'`ŽÇu' => [
'_' => 'photoSize',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
],
'Ö' => [
'_' => 'photoCachedSize',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'bytes' => self::deserialize_bytes($stream),
],
'.¼°à' => [
'_' => 'photoStrippedSize',
'type' => self::deserialize_string($stream),
'inflated' => new Types\Bytes(Tools::inflateStripped(self::deserialize_string($stream))),
],
'•û>ú' => [
'_' => 'photoSizeProgressive',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'sizes' => self::deserialize_type_array_of_int(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'AM!Ø' => [
'_' => 'photoPathSize',
'type' => self::deserialize_string($stream),
'bytes' => self::deserialize_bytes($stream),
],
'¶¿w' => [
'_' => 'photoSize_23',
'type' => self::deserialize_string($stream),
'location' => match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
,
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
],
'ú4§é' => [
'_' => 'photoCachedSize_23',
'type' => self::deserialize_string($stream),
'location' => match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
,
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'bytes' => self::deserialize_bytes($stream),
],
'¡Ïr0' => self::deserialize_type_PhotoSize(self::gzdecode($stream)),
default => self::err($stream)
}
,
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'xúñ' => [
'_' => 'decryptedMessageMediaPhoto_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'caption' => self::deserialize_string($stream),
],
'Œ—' => [
'_' => 'decryptedMessageMediaVideo_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'caption' => self::deserialize_string($stream),
],
'âŠþz' => [
'_' => 'decryptedMessageMediaDocument_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
'caption' => self::deserialize_string($stream),
],
'oõŠ' => [
'_' => 'decryptedMessageMediaVenue_45',
'lat' => unpack('d', stream_get_contents($stream, 8))[1],
'long' => unpack('d', stream_get_contents($stream, 8))[1],
'title' => self::deserialize_string($stream),
'address' => self::deserialize_string($stream),
'provider' => self::deserialize_string($stream),
'venue_id' => self::deserialize_string($stream),
],
'Øå' => [
'_' => 'decryptedMessageMediaWebPage_45',
'url' => self::deserialize_string($stream),
],
'‚—½j' => [
'_' => 'decryptedMessageMediaDocument_143',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('q', stream_get_contents($stream, 8))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
'caption' => self::deserialize_string($stream),
],
'¡Ïr0' => self::deserialize_type_DecryptedMessageMedia(self::gzdecode($stream)),
default => self::err($stream)
}
;
if (($flags & 128) !== 0) $tmp['entities'] = self::deserialize_type_array_of_MessageEntity(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            });
if (($flags & 2048) !== 0) $tmp['via_bot_name'] = self::deserialize_string($stream);
if (($flags & 8) !== 0) $tmp['reply_to_random_id'] = unpack('q', stream_get_contents($stream, 8))[1];
if (($flags & 131072) !== 0) $tmp['grouped_id'] = unpack('q', stream_get_contents($stream, 8))[1];
return $tmp;

    }
    public  function deserialize_type_Object(mixed $stream): mixed {
return match (stream_get_contents($stream, 4)) {
'O' => [
'_' => 'decryptedMessage_8',
'random_id' => unpack('q', stream_get_contents($stream, 8))[1],
'random_bytes' => self::deserialize_random_bytes($stream),
'message' => self::deserialize_string($stream),
'media' => match (stream_get_contents($stream, 4)) {
'J\\Ÿ' => [
'_' => 'decryptedMessageMediaEmpty_8',
],
'ŒŠy2' => [
'_' => 'decryptedMessageMediaPhoto_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'ónîL' => [
'_' => 'decryptedMessageMediaVideo_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Y
H5' => [
'_' => 'decryptedMessageMediaGeoPoint_8',
'lat' => unpack('d', stream_get_contents($stream, 8))[1],
'long' => unpack('d', stream_get_contents($stream, 8))[1],
],
'—
ŠX' => [
'_' => 'decryptedMessageMediaContact_8',
'phone_number' => self::deserialize_string($stream),
'first_name' => self::deserialize_string($stream),
'last_name' => self::deserialize_string($stream),
'user_id' => unpack('l', stream_get_contents($stream, 4))[1],
],
'KC•°' => [
'_' => 'decryptedMessageMediaDocument_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'file_name' => self::deserialize_string($stream),
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'u€`' => [
'_' => 'decryptedMessageMediaAudio_8',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
']AJR' => [
'_' => 'decryptedMessageMediaVideo_17',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Ë©àW' => [
'_' => 'decryptedMessageMediaAudio_17',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Ý°•ú' => [
'_' => 'decryptedMessageMediaExternalDocument_23',
'id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
'date' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb' => match (stream_get_contents($stream, 4)) {
'<â' => [
'_' => 'photoSizeEmpty',
'type' => self::deserialize_string($stream),
],
'`ŽÇu' => [
'_' => 'photoSize',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
],
'Ö' => [
'_' => 'photoCachedSize',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'bytes' => self::deserialize_bytes($stream),
],
'.¼°à' => [
'_' => 'photoStrippedSize',
'type' => self::deserialize_string($stream),
'inflated' => new Types\Bytes(Tools::inflateStripped(self::deserialize_string($stream))),
],
'•û>ú' => [
'_' => 'photoSizeProgressive',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'sizes' => self::deserialize_type_array_of_int(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'AM!Ø' => [
'_' => 'photoPathSize',
'type' => self::deserialize_string($stream),
'bytes' => self::deserialize_bytes($stream),
],
'¶¿w' => [
'_' => 'photoSize_23',
'type' => self::deserialize_string($stream),
'location' => match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
,
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
],
'ú4§é' => [
'_' => 'photoCachedSize_23',
'type' => self::deserialize_string($stream),
'location' => match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
,
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'bytes' => self::deserialize_bytes($stream),
],
'¡Ïr0' => self::deserialize_type_PhotoSize(self::gzdecode($stream)),
default => self::err($stream)
}
,
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'xúñ' => [
'_' => 'decryptedMessageMediaPhoto_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'caption' => self::deserialize_string($stream),
],
'Œ—' => [
'_' => 'decryptedMessageMediaVideo_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'caption' => self::deserialize_string($stream),
],
'âŠþz' => [
'_' => 'decryptedMessageMediaDocument_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
'caption' => self::deserialize_string($stream),
],
'oõŠ' => [
'_' => 'decryptedMessageMediaVenue_45',
'lat' => unpack('d', stream_get_contents($stream, 8))[1],
'long' => unpack('d', stream_get_contents($stream, 8))[1],
'title' => self::deserialize_string($stream),
'address' => self::deserialize_string($stream),
'provider' => self::deserialize_string($stream),
'venue_id' => self::deserialize_string($stream),
],
'Øå' => [
'_' => 'decryptedMessageMediaWebPage_45',
'url' => self::deserialize_string($stream),
],
'‚—½j' => [
'_' => 'decryptedMessageMediaDocument_143',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('q', stream_get_contents($stream, 8))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
'caption' => self::deserialize_string($stream),
],
'¡Ïr0' => self::deserialize_type_DecryptedMessageMedia(self::gzdecode($stream)),
default => self::err($stream)
}
,
],
'}2Hª' => [
'_' => 'decryptedMessageService_8',
'random_id' => unpack('q', stream_get_contents($stream, 8))[1],
'random_bytes' => self::deserialize_random_bytes($stream),
'action' => match (stream_get_contents($stream, 4)) {
'ì:s¡' => [
'_' => 'decryptedMessageActionSetMessageTTL_8',
'ttl_seconds' => unpack('l', stream_get_contents($stream, 4))[1],
],
'¾@O' => [
'_' => 'decryptedMessageActionReadMessages_8',
'random_ids' => self::deserialize_type_array_of_long(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'Cae' => [
'_' => 'decryptedMessageActionDeleteMessages_8',
'random_ids' => self::deserialize_type_array_of_long(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'uôÁŠ' => [
'_' => 'decryptedMessageActionScreenshotMessages_8',
'random_ids' => self::deserialize_type_array_of_long(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'\\äg' => [
'_' => 'decryptedMessageActionFlushHistory_8',
],
'°Q' => [
'_' => 'decryptedMessageActionResend_17',
'start_seq_no' => unpack('l', stream_get_contents($stream, 4))[1],
'end_seq_no' => unpack('l', stream_get_contents($stream, 4))[1],
],
'ƒˆó' => [
'_' => 'decryptedMessageActionNotifyLayer_17',
'layer' => unpack('l', stream_get_contents($stream, 4))[1],
],
'Av²Ì' => [
'_' => 'decryptedMessageActionTyping_17',
'action' => match (stream_get_contents($stream, 4)) {
'Nt¿' => [
'_' => 'sendMessageTypingAction',
],
'õÈ^ý' => [
'_' => 'sendMessageCancelAction',
],
'oÖ‡¡' => [
'_' => 'sendMessageRecordVideoAction',
],
'ì:vé' => [
'_' => 'sendMessageUploadVideoAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'÷s/Õ' => [
'_' => 'sendMessageRecordAudioAction',
],
'«×Qó' => [
'_' => 'sendMessageUploadAudioAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'&JÓÑ' => [
'_' => 'sendMessageUploadPhotoAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'äÙª' => [
'_' => 'sendMessageUploadDocumentAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'¡‹o' => [
'_' => 'sendMessageGeoLocationAction',
],
'o¼Œb' => [
'_' => 'sendMessageChooseContactAction',
],
'HjÝ' => [
'_' => 'sendMessageGamePlayAction',
],
'¼òˆ' => [
'_' => 'sendMessageRecordRoundAction',
],
'f>$' => [
'_' => 'sendMessageUploadRoundAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'…",Ù' => [
'_' => 'speakingInGroupCallAction',
],
'F’ÚÛ' => [
'_' => 'sendMessageHistoryImportAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'±ÆZ°' => [
'_' => 'sendMessageChooseStickerAction',
],
'Ë+—%' => [
'_' => 'sendMessageEmojiInteraction',
'emoticon' => self::deserialize_string($stream),
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'interaction' => match (stream_get_contents($stream, 4)) {
't}' => json_decode(self::deserialize_string($stream), true, 512, \JSON_THROW_ON_ERROR),
'¡Ïr0' => self::deserialize_type_DataJSON(self::gzdecode($stream)),
default => self::err($stream)
}
,
],
'.e¶' => [
'_' => 'sendMessageEmojiInteractionSeen',
'emoticon' => self::deserialize_string($stream),
],
'÷/’' => [
'_' => 'sendMessageUploadVideoAction_17',
],
'oŠ¬æ' => [
'_' => 'sendMessageUploadAudioAction_17',
],
'<
™' => [
'_' => 'sendMessageUploadPhotoAction_17',
],
'Žé®' => [
'_' => 'sendMessageUploadDocumentAction_17',
],
'$†q»' => [
'_' => 'sendMessageUploadRoundAction_66',
],
'¡Ïr0' => self::deserialize_type_SendMessageAction(self::gzdecode($stream)),
default => self::err($stream)
}
,
],
'aÉó' => [
'_' => 'decryptedMessageActionRequestKey_20',
'exchange_id' => unpack('q', stream_get_contents($stream, 8))[1],
'g_a' => self::deserialize_bytes($stream),
],
'[sáo' => [
'_' => 'decryptedMessageActionAcceptKey_20',
'exchange_id' => unpack('q', stream_get_contents($stream, 8))[1],
'g_b' => self::deserialize_bytes($stream),
'key_fingerprint' => stream_get_contents($stream, 8),
],
'kìÝ' => [
'_' => 'decryptedMessageActionAbortKey_20',
'exchange_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'›.ì' => [
'_' => 'decryptedMessageActionCommitKey_20',
'exchange_id' => unpack('q', stream_get_contents($stream, 8))[1],
'key_fingerprint' => stream_get_contents($stream, 8),
],
'cÝ/¨' => [
'_' => 'decryptedMessageActionNoop_20',
],
'¡Ïr0' => self::deserialize_type_DecryptedMessageAction(self::gzdecode($stream)),
default => self::err($stream)
}
,
],
'J\\Ÿ' => [
'_' => 'decryptedMessageMediaEmpty_8',
],
'ŒŠy2' => [
'_' => 'decryptedMessageMediaPhoto_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'ónîL' => [
'_' => 'decryptedMessageMediaVideo_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Y
H5' => [
'_' => 'decryptedMessageMediaGeoPoint_8',
'lat' => unpack('d', stream_get_contents($stream, 8))[1],
'long' => unpack('d', stream_get_contents($stream, 8))[1],
],
'—
ŠX' => [
'_' => 'decryptedMessageMediaContact_8',
'phone_number' => self::deserialize_string($stream),
'first_name' => self::deserialize_string($stream),
'last_name' => self::deserialize_string($stream),
'user_id' => unpack('l', stream_get_contents($stream, 4))[1],
],
'KC•°' => [
'_' => 'decryptedMessageMediaDocument_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'file_name' => self::deserialize_string($stream),
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'u€`' => [
'_' => 'decryptedMessageMediaAudio_8',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'x8M ' => [
'_' => 'decryptedMessage_17',
'random_id' => unpack('q', stream_get_contents($stream, 8))[1],
'ttl' => unpack('l', stream_get_contents($stream, 4))[1],
'message' => self::deserialize_string($stream),
'media' => match (stream_get_contents($stream, 4)) {
'J\\Ÿ' => [
'_' => 'decryptedMessageMediaEmpty_8',
],
'ŒŠy2' => [
'_' => 'decryptedMessageMediaPhoto_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'ónîL' => [
'_' => 'decryptedMessageMediaVideo_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Y
H5' => [
'_' => 'decryptedMessageMediaGeoPoint_8',
'lat' => unpack('d', stream_get_contents($stream, 8))[1],
'long' => unpack('d', stream_get_contents($stream, 8))[1],
],
'—
ŠX' => [
'_' => 'decryptedMessageMediaContact_8',
'phone_number' => self::deserialize_string($stream),
'first_name' => self::deserialize_string($stream),
'last_name' => self::deserialize_string($stream),
'user_id' => unpack('l', stream_get_contents($stream, 4))[1],
],
'KC•°' => [
'_' => 'decryptedMessageMediaDocument_8',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'file_name' => self::deserialize_string($stream),
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'u€`' => [
'_' => 'decryptedMessageMediaAudio_8',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
']AJR' => [
'_' => 'decryptedMessageMediaVideo_17',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Ë©àW' => [
'_' => 'decryptedMessageMediaAudio_17',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Ý°•ú' => [
'_' => 'decryptedMessageMediaExternalDocument_23',
'id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
'date' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb' => match (stream_get_contents($stream, 4)) {
'<â' => [
'_' => 'photoSizeEmpty',
'type' => self::deserialize_string($stream),
],
'`ŽÇu' => [
'_' => 'photoSize',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
],
'Ö' => [
'_' => 'photoCachedSize',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'bytes' => self::deserialize_bytes($stream),
],
'.¼°à' => [
'_' => 'photoStrippedSize',
'type' => self::deserialize_string($stream),
'inflated' => new Types\Bytes(Tools::inflateStripped(self::deserialize_string($stream))),
],
'•û>ú' => [
'_' => 'photoSizeProgressive',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'sizes' => self::deserialize_type_array_of_int(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'AM!Ø' => [
'_' => 'photoPathSize',
'type' => self::deserialize_string($stream),
'bytes' => self::deserialize_bytes($stream),
],
'¶¿w' => [
'_' => 'photoSize_23',
'type' => self::deserialize_string($stream),
'location' => match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
,
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
],
'ú4§é' => [
'_' => 'photoCachedSize_23',
'type' => self::deserialize_string($stream),
'location' => match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
,
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'bytes' => self::deserialize_bytes($stream),
],
'¡Ïr0' => self::deserialize_type_PhotoSize(self::gzdecode($stream)),
default => self::err($stream)
}
,
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'xúñ' => [
'_' => 'decryptedMessageMediaPhoto_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'caption' => self::deserialize_string($stream),
],
'Œ—' => [
'_' => 'decryptedMessageMediaVideo_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'caption' => self::deserialize_string($stream),
],
'âŠþz' => [
'_' => 'decryptedMessageMediaDocument_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
'caption' => self::deserialize_string($stream),
],
'oõŠ' => [
'_' => 'decryptedMessageMediaVenue_45',
'lat' => unpack('d', stream_get_contents($stream, 8))[1],
'long' => unpack('d', stream_get_contents($stream, 8))[1],
'title' => self::deserialize_string($stream),
'address' => self::deserialize_string($stream),
'provider' => self::deserialize_string($stream),
'venue_id' => self::deserialize_string($stream),
],
'Øå' => [
'_' => 'decryptedMessageMediaWebPage_45',
'url' => self::deserialize_string($stream),
],
'‚—½j' => [
'_' => 'decryptedMessageMediaDocument_143',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('q', stream_get_contents($stream, 8))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
'caption' => self::deserialize_string($stream),
],
'¡Ïr0' => self::deserialize_type_DecryptedMessageMedia(self::gzdecode($stream)),
default => self::err($stream)
}
,
],
'`As' => [
'_' => 'decryptedMessageService_17',
'random_id' => unpack('q', stream_get_contents($stream, 8))[1],
'action' => match (stream_get_contents($stream, 4)) {
'ì:s¡' => [
'_' => 'decryptedMessageActionSetMessageTTL_8',
'ttl_seconds' => unpack('l', stream_get_contents($stream, 4))[1],
],
'¾@O' => [
'_' => 'decryptedMessageActionReadMessages_8',
'random_ids' => self::deserialize_type_array_of_long(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'Cae' => [
'_' => 'decryptedMessageActionDeleteMessages_8',
'random_ids' => self::deserialize_type_array_of_long(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'uôÁŠ' => [
'_' => 'decryptedMessageActionScreenshotMessages_8',
'random_ids' => self::deserialize_type_array_of_long(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'\\äg' => [
'_' => 'decryptedMessageActionFlushHistory_8',
],
'°Q' => [
'_' => 'decryptedMessageActionResend_17',
'start_seq_no' => unpack('l', stream_get_contents($stream, 4))[1],
'end_seq_no' => unpack('l', stream_get_contents($stream, 4))[1],
],
'ƒˆó' => [
'_' => 'decryptedMessageActionNotifyLayer_17',
'layer' => unpack('l', stream_get_contents($stream, 4))[1],
],
'Av²Ì' => [
'_' => 'decryptedMessageActionTyping_17',
'action' => match (stream_get_contents($stream, 4)) {
'Nt¿' => [
'_' => 'sendMessageTypingAction',
],
'õÈ^ý' => [
'_' => 'sendMessageCancelAction',
],
'oÖ‡¡' => [
'_' => 'sendMessageRecordVideoAction',
],
'ì:vé' => [
'_' => 'sendMessageUploadVideoAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'÷s/Õ' => [
'_' => 'sendMessageRecordAudioAction',
],
'«×Qó' => [
'_' => 'sendMessageUploadAudioAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'&JÓÑ' => [
'_' => 'sendMessageUploadPhotoAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'äÙª' => [
'_' => 'sendMessageUploadDocumentAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'¡‹o' => [
'_' => 'sendMessageGeoLocationAction',
],
'o¼Œb' => [
'_' => 'sendMessageChooseContactAction',
],
'HjÝ' => [
'_' => 'sendMessageGamePlayAction',
],
'¼òˆ' => [
'_' => 'sendMessageRecordRoundAction',
],
'f>$' => [
'_' => 'sendMessageUploadRoundAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'…",Ù' => [
'_' => 'speakingInGroupCallAction',
],
'F’ÚÛ' => [
'_' => 'sendMessageHistoryImportAction',
'progress' => unpack('l', stream_get_contents($stream, 4))[1],
],
'±ÆZ°' => [
'_' => 'sendMessageChooseStickerAction',
],
'Ë+—%' => [
'_' => 'sendMessageEmojiInteraction',
'emoticon' => self::deserialize_string($stream),
'msg_id' => unpack('l', stream_get_contents($stream, 4))[1],
'interaction' => match (stream_get_contents($stream, 4)) {
't}' => json_decode(self::deserialize_string($stream), true, 512, \JSON_THROW_ON_ERROR),
'¡Ïr0' => self::deserialize_type_DataJSON(self::gzdecode($stream)),
default => self::err($stream)
}
,
],
'.e¶' => [
'_' => 'sendMessageEmojiInteractionSeen',
'emoticon' => self::deserialize_string($stream),
],
'÷/’' => [
'_' => 'sendMessageUploadVideoAction_17',
],
'oŠ¬æ' => [
'_' => 'sendMessageUploadAudioAction_17',
],
'<
™' => [
'_' => 'sendMessageUploadPhotoAction_17',
],
'Žé®' => [
'_' => 'sendMessageUploadDocumentAction_17',
],
'$†q»' => [
'_' => 'sendMessageUploadRoundAction_66',
],
'¡Ïr0' => self::deserialize_type_SendMessageAction(self::gzdecode($stream)),
default => self::err($stream)
}
,
],
'aÉó' => [
'_' => 'decryptedMessageActionRequestKey_20',
'exchange_id' => unpack('q', stream_get_contents($stream, 8))[1],
'g_a' => self::deserialize_bytes($stream),
],
'[sáo' => [
'_' => 'decryptedMessageActionAcceptKey_20',
'exchange_id' => unpack('q', stream_get_contents($stream, 8))[1],
'g_b' => self::deserialize_bytes($stream),
'key_fingerprint' => stream_get_contents($stream, 8),
],
'kìÝ' => [
'_' => 'decryptedMessageActionAbortKey_20',
'exchange_id' => unpack('q', stream_get_contents($stream, 8))[1],
],
'›.ì' => [
'_' => 'decryptedMessageActionCommitKey_20',
'exchange_id' => unpack('q', stream_get_contents($stream, 8))[1],
'key_fingerprint' => stream_get_contents($stream, 8),
],
'cÝ/¨' => [
'_' => 'decryptedMessageActionNoop_20',
],
'¡Ïr0' => self::deserialize_type_DecryptedMessageAction(self::gzdecode($stream)),
default => self::err($stream)
}
,
],
']AJR' => [
'_' => 'decryptedMessageMediaVideo_17',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Ë©àW' => [
'_' => 'decryptedMessageMediaAudio_17',
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
],
'Ý°•ú' => [
'_' => 'decryptedMessageMediaExternalDocument_23',
'id' => unpack('q', stream_get_contents($stream, 8))[1],
'access_hash' => unpack('q', stream_get_contents($stream, 8))[1],
'date' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb' => match (stream_get_contents($stream, 4)) {
'<â' => [
'_' => 'photoSizeEmpty',
'type' => self::deserialize_string($stream),
],
'`ŽÇu' => [
'_' => 'photoSize',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
],
'Ö' => [
'_' => 'photoCachedSize',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'bytes' => self::deserialize_bytes($stream),
],
'.¼°à' => [
'_' => 'photoStrippedSize',
'type' => self::deserialize_string($stream),
'inflated' => new Types\Bytes(Tools::inflateStripped(self::deserialize_string($stream))),
],
'•û>ú' => [
'_' => 'photoSizeProgressive',
'type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'sizes' => self::deserialize_type_array_of_int(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'AM!Ø' => [
'_' => 'photoPathSize',
'type' => self::deserialize_string($stream),
'bytes' => self::deserialize_bytes($stream),
],
'¶¿w' => [
'_' => 'photoSize_23',
'type' => self::deserialize_string($stream),
'location' => match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
,
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
],
'ú4§é' => [
'_' => 'photoCachedSize_23',
'type' => self::deserialize_string($stream),
'location' => match (stream_get_contents($stream, 4)) {
'FkY|' => [
'_' => 'fileLocationUnavailable_23',
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'vÖS' => [
'_' => 'fileLocation_23',
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'volume_id' => unpack('q', stream_get_contents($stream, 8))[1],
'local_id' => unpack('l', stream_get_contents($stream, 4))[1],
'secret' => unpack('q', stream_get_contents($stream, 8))[1],
],
'¡Ïr0' => self::deserialize_type_FileLocation(self::gzdecode($stream)),
default => self::err($stream)
}
,
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'bytes' => self::deserialize_bytes($stream),
],
'¡Ïr0' => self::deserialize_type_PhotoSize(self::gzdecode($stream)),
default => self::err($stream)
}
,
'dc_id' => unpack('l', stream_get_contents($stream, 4))[1],
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
],
'Þ‘°6' => self::deserialize_decryptedMessage_45($stream),
'xúñ' => [
'_' => 'decryptedMessageMediaPhoto_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'caption' => self::deserialize_string($stream),
],
'Œ—' => [
'_' => 'decryptedMessageMediaVideo_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'duration' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'w' => unpack('l', stream_get_contents($stream, 4))[1],
'h' => unpack('l', stream_get_contents($stream, 4))[1],
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'caption' => self::deserialize_string($stream),
],
'âŠþz' => [
'_' => 'decryptedMessageMediaDocument_45',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('l', stream_get_contents($stream, 4))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
'caption' => self::deserialize_string($stream),
],
'oõŠ' => [
'_' => 'decryptedMessageMediaVenue_45',
'lat' => unpack('d', stream_get_contents($stream, 8))[1],
'long' => unpack('d', stream_get_contents($stream, 8))[1],
'title' => self::deserialize_string($stream),
'address' => self::deserialize_string($stream),
'provider' => self::deserialize_string($stream),
'venue_id' => self::deserialize_string($stream),
],
'Øå' => [
'_' => 'decryptedMessageMediaWebPage_45',
'url' => self::deserialize_string($stream),
],
'tFÌ‘' => self::deserialize_decryptedMessage_73($stream),
'‚—½j' => [
'_' => 'decryptedMessageMediaDocument_143',
'thumb' => self::deserialize_bytes($stream),
'thumb_w' => unpack('l', stream_get_contents($stream, 4))[1],
'thumb_h' => unpack('l', stream_get_contents($stream, 4))[1],
'mime_type' => self::deserialize_string($stream),
'size' => unpack('q', stream_get_contents($stream, 8))[1],
'key' => self::deserialize_bytes($stream),
'iv' => self::deserialize_bytes($stream),
'attributes' => self::deserialize_type_array_of_DocumentAttribute(match(stream_get_contents($stream, 4)) {    
                'Äµ' => $stream,    
                '¡Ïr0' => self::gzdecode_vector($stream)
            }),
'caption' => self::deserialize_string($stream),
],
'¡Ïr0' => $this->deserialize_type_Object(self::gzdecode($stream)),
default => self::err($stream)
}
;
    }
}
